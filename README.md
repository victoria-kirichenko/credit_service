# Кредитный сервис

## Задача
Реализовать сервис показа пользовательских предложений.

## Технологический стек
- Java 17
- Spring Boot
- Spring Data
- Kafka
- PostgreSQL

## Структура
1. **Сервис регистрации и авторизации**
2. **Сервис генерации новых предложений**, который будет генерировать каждый месяц предложение на оформление кредита.
   
  Дополнительные условия:
- если клиент ранее уже получал подобное предложение и принял его, то новое генерировать не ранее чем через 3 месяца.
- если клиент отказался, то генерировать новое не ранее чем через 1 месяц.
- не генерировать новое предложение, если клиент попросил озвучить предложение позже.
  
3. **Сервис показа пользовательских предложений**
Доступные ответы:
- отказался
- принял
- попросил озвучить позднее
  
  Дополнительные условия:
- Не показывать повторно предложение, по которому получен ответ "отказ" или "принял", за исключением заново сгенерированного предложения.

**БД**: Реализовать глубину хранения предложений и ответов не более 6 месяцев, по которым был ответ "отказ" или "принял".

## Инструкция по запуску

1. Установите и запустите Kafka с помощью команд:
   - git clone https://github.com/conduktor/kafka-stack-docker-compose.git
   - cd kafka-stack-docker-compose
   - docker-compose -f zk-single-kafka-single.yml up -d
2. Запустите bash-скрипт bash.sh с помощью команды:
   - sh bash.sh

## Структура БД
![image](https://github.com/victoria-kirichenko/credit_service/assets/88627479/c4a9add2-1edf-4a68-8c8b-93d88ecab8b6)

## Запросы для проверки
- http://localhost:8080/api/register
- http://localhost:8080/login
- http://localhost:8081/offers/show_offers?userId=
- http://localhost:8081/offers/accept_offer?offerId=
- http://localhost:8081/offers/decline_offer?offerId=
- http://localhost:8081/offers/ask_later_offer?offerId=
